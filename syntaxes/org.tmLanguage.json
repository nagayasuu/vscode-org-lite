{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Org",
  "scopeName": "source.org",
  "patterns": [
    { "include": "#heading" },
    { "include": "#list" },
    { "include": "#bold" },
    { "include": "#code" },
    { "include": "#link" }
  ],
  "repository": {
    "heading": {
      "patterns": [
        {
          "name": "heading.1.markdown",
          "match": "^(\\*)\\s+(?:(TODO)\\s+)?(.*?)$",
          "captures": {
            "2": {
              "name": "keyword.control.todo.org"
            }
          }
        },
        {
          "name": "heading.2.markdown",
          "match": "^(  )(\\*)\\s+(?:(TODO)\\s+)?(.*?)$",
          "captures": {
            "3": {
              "name": "keyword.control.todo.org"
            }
          }
        },
        {
          "name": "heading.3.markdown",
          "match": "^(    )(\\*)\\s+(?:(TODO)\\s+)?(.*?)$",
          "captures": {
            "3": {
              "name": "keyword.control.todo.org"
            }
          }
        },
        {
          "name": "heading.4.markdown",
          "match": "^(      )(\\*)\\s+(?:(TODO)\\s+)?(.*?)$",
          "captures": {
            "3": {
              "name": "keyword.control.todo.org"
            }
          }
        },
        {
          "name": "heading.5.markdown",
          "match": "^(        )(\\*)\\s+(?:(TODO)\\s+)?(.*?)$",
          "captures": {
            "3": {
              "name": "keyword.control.todo.org"
            }
          }
        },
        {
          "name": "heading.6.markdown",
          "match": "^(          )(\\*)\\s+(?:(TODO)\\s+)?(.*?)$",
          "captures": {
            "3": {
              "name": "keyword.control.todo.org"
            }
          }
        }
      ]
    },
    "list": {
      "patterns": [
        {
          "name": "markup.list.unordered.org",
          "match": "^(\\s*)([-+*])\\s+(.*)$",
          "captures": {
            "2": { "name": "punctuation.definition.list.begin.markdown" }
          }
        },
        {
          "name": "markup.list.ordered.org",
          "match": "^(\\s*)(\\d+\\.)(\\s+)(.*)$",
          "captures": {
            "2": { "name": "punctuation.definition.list.begin.markdown" }
          }
        }
      ]
    },
    "bold": {
      "patterns": [
        {
          "name": "markup.bold",
          "match": "\\*(.*?)\\*"
        }
      ]
    },
    "code": {
      "patterns": [
        {
          "name": "markup.inline.raw.string.markdown",
          "match": "\\~(.*?)\\~"
        }
      ]
    },
    "link": {
      "patterns": [
        {
          "name": "markup.underline.link.org",
          "match": "\\[\\[[^\\]]+\\]\\]"
        }
      ]
    }
  }
}
